Model:
  name: RdfModel
  origin: store
  source: BlueBrainNexus
  context:
    iri: "https://bbp.neuroshapes.org"
    bucket: "neurosciencegraph/datamodels"

Store:
  name: BlueBrainNexus
  endpoint: https://bbp.epfl.ch/nexus/v1
  model:
    name: RdfModel
  searchendpoints:
    sparql:
      endpoint: "https://bbp.epfl.ch/neurosciencegraph/data/views/aggreg-sp/dataset"
    elastic:
      endpoint: "https://bbp.epfl.ch/neurosciencegraph/data/views/aggreg-es/dataset"
      mapping: "https://bbp.epfl.ch/neurosciencegraph/data/views/es/dataset"
      default_str_keyword_field: "keyword"
  vocabulary:
    metadata:
      iri: "https://bluebrain.github.io/nexus/contexts/metadata.json"
      local_iri: "https://bluebrainnexus.io/contexts/metadata.json"
    namespace: "https://bluebrain.github.io/nexus/vocabulary/"
    deprecated_property: "https://bluebrain.github.io/nexus/vocabulary/deprecated"
    project_property: "https://bluebrain.github.io/nexus/vocabulary/project"
  max_connection: 5
  token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI5T0R3Z1JSTFVsTTJHbFphVDZjVklnenJsb0lzUWJmbTBDck1icXNjNHQ4In0.eyJleHAiOjE3MTY1Njg1OTMsImlhdCI6MTcxNjUzOTc5MywiYXV0aF90aW1lIjoxNzE2NTM1NDYyLCJqdGkiOiI1NWYxNTQzMi0xODk3LTRmZjYtOGJlOC00NzBlMTM0MDQ1MjEiLCJpc3MiOiJodHRwczovL2JicGF1dGguZXBmbC5jaC9hdXRoL3JlYWxtcy9CQlAiLCJhdWQiOlsiaHR0cHM6Ly9zbGFjay5jb20iLCJjb3Jlc2VydmljZXMtZ2l0bGFiIiwiYWNjb3VudCJdLCJzdWIiOiJmOjBmZGFkZWY3LWIyYjktNDkyYi1hZjQ2LWM2NTQ5MmQ0NTljMjpjZ29uemFsZSIsInR5cCI6IkJlYXJlciIsImF6cCI6ImJicC1uaXNlLW5leHVzLWZ1c2lvbiIsIm5vbmNlIjoiODg5ZjRhOWYyMjI0NGMxYWE0N2FhM2FkZTQwOTg1NzciLCJzZXNzaW9uX3N0YXRlIjoiMmQyMmUwNjItNjJjYi00NDQ2LWIwOTItYjE2YjM0NWEwNTUzIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImJicC1wYW0tYXV0aGVudGljYXRpb24iLCJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIiwiZGVmYXVsdC1yb2xlcy1iYnAiXX0sInJlc291cmNlX2FjY2VzcyI6eyJodHRwczovL3NsYWNrLmNvbSI6eyJyb2xlcyI6WyJyZXN0cmljdGVkLWFjY2VzcyJdfSwiY29yZXNlcnZpY2VzLWdpdGxhYiI6eyJyb2xlcyI6WyJyZXN0cmljdGVkLWFjY2VzcyJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgbmV4dXMgcHJvZmlsZSBsb2NhdGlvbiBlbWFpbCIsInNpZCI6IjJkMjJlMDYyLTYyY2ItNDQ0Ni1iMDkyLWIxNmIzNDVhMDU1MyIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoiQ3Jpc3RpbmEgRWxpemFiZXRoIEdvbnphbGV6IEVzcGlub3phIiwibG9jYXRpb24iOiJCMSAzIDI4NC4wNTIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJjZ29uemFsZSIsImdpdmVuX25hbWUiOiJDcmlzdGluYSBFbGl6YWJldGggR29uemFsZXoiLCJmYW1pbHlfbmFtZSI6IkVzcGlub3phIiwiZW1haWwiOiJjcmlzdGluYS5nb256YWxlemVzcGlub3phQGVwZmwuY2gifQ.Dfn8DYuU947dYr2GAa-gqct-5Uy4drOYR3e3TruXBk1XAKscddm7FltlwVvNSJbTu8nYfBo5FBUVTyFGc0-b1LH_uw7iCyoZs_SzKqLYhLmGM_ruXDNofC0_k1KAPXWoPabxq3k9e8kiw5fE2dOeh9YpQ_ORJ-q_PFZrESaTh2QbzQQ2UhyOhH4fXtyFhz-DpzkQ7flkRHrMVqyH2T97fZUOkkc5V104VO0avVftX0SAx3hXBpcki0U6nloWgHXdKuZkTy8jPfU6xG4toT9E7fbA858TEpOPkBfh-fdNSdXrHfC6pYcs9kce4gOphmIqozj5kJXmsvIgzz70fCUIcA
  versioned_id_template: "{x.id}?rev={x._store_metadata._rev}"
  file_resource_mapping: https://raw.githubusercontent.com/BlueBrain/nexus-forge/master/examples/configurations/nexus-store/file-to-resource-mapping.hjson

Resolvers:
  ontology:
    - resolver: OntologyResolver
      origin: store
      source: BlueBrainNexus
      targets:
        - identifier: terms
          bucket: neurosciencegraph/datamodels
        - identifier: CellType
          bucket: neurosciencegraph/datamodels
          filters:
            - path: subClassOf*.id
              value: BrainCellType
        - identifier: BrainRegion
          bucket: neurosciencegraph/datamodels
          filters:
            - path: subClassOf*.id
              value: BrainRegion
        - identifier: Species
          bucket: neurosciencegraph/datamodels
          filters:
            - path: has_rank.id
              value: http://purl.obolibrary.org/obo/NCBITaxon_species
        - identifier: Strain
          bucket: neurosciencegraph/datamodels
          filters:
            - path: has_rank.id
              value: http://purl.obolibrary.org/obo/NCBITaxon_strain          
      searchendpoints:
        sparql:
          endpoint: "https://bluebrain.github.io/nexus/vocabulary/defaultSparqlIndex"
      result_resource_mapping: https://raw.githubusercontent.com/BlueBrain/nexus-forge/master/examples/configurations/nexus-resolver/term-to-resource-mapping.hjson
  agent:
    - resolver: AgentResolver
      origin: store
      source: BlueBrainNexus
      targets:
        - identifier: agents
          bucket: bbp/agents
      searchendpoints:
        sparql:
          endpoint: "https://bluebrain.github.io/nexus/vocabulary/defaultSparqlIndex"
      result_resource_mapping: https://raw.githubusercontent.com/BlueBrain/nexus-forge/master/examples/configurations/nexus-resolver/agent-to-resource-mapping.hjson

Formatters:
  identifier: https://bbp.epfl.ch/neurosciencegraph/data/{}/{}
  identifier_with_org_project: https://bbp.epfl.ch/data/{}/{}/{}
